<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Growth Grid Channel | Transforming Minds & Hearts</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        /* --- CSS VARIABLES --- */
        :root {
            --primary-blue: #1900ff;       
            --primary-light: #1212a1;
            --primary-dark: #001a4d;
            --accent-orange: #ff4400;      
            --accent-hover: #cc3600;
            
            --text-white: #ffffff;
            --text-dark: #1e293b;
            --text-muted: #64748b;
            
            --glass-bg: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(255, 255, 255, 0.4);
            --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            
            --bg-body: #f1f5f9;

            --radius-sm: 8px;
            --radius-md: 16px;
            --radius-lg: 30px;
        }

        /* --- RESET & GLOBAL --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            /* Subtle animated background pattern */
            background-image: 
                radial-gradient(at 0% 0%, rgba(25, 0, 255, 0.08) 0px, transparent 50%),
                radial-gradient(at 100% 0%, rgba(255, 68, 0, 0.08) 0px, transparent 50%);
            background-attachment: fixed;
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3, h4 {
            font-family: 'Inter', sans-serif;
            font-weight: 800;
            color: var(--primary-blue); 
            line-height: 1.2;
            letter-spacing: -0.5px;
        }

        /* --- ANIMATIONS (SCROLL & HOVER) --- */
        .reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        
        .reveal.active { opacity: 1; transform: translateY(0); }

        /* Hover Effects for Cards */
        .hover-lift {
            transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.4s ease;
        }
        .hover-lift:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px -5px rgba(0,0,0,0.15);
            z-index: 10;
        }

        /* --- BUTTONS --- */
        .btn {
            display: inline-block;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
            font-size: 0.85rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(25, 0, 255, 0.2);
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 50%; left: 50%;
            width: 0; height: 0;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:active::after { width: 300px; height: 300px; }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-light));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(25, 0, 255, 0.993);
            filter: brightness(1.1);
        }

        .btn-secondary {
            background: white;
            color: var(--primary-blue);
            border: 2px solid var(--primary-blue);
        }

        .btn-secondary:hover {
            background: var(--primary-blue);
            color: white;
            transform: translateY(-3px);
        }

        /* --- GLASSMORPHISM --- */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius-md);
            box-shadow: var(--glass-shadow);
            position: relative;
            overflow: hidden;
        }

        /* --- HEADER --- */
        header {
            position: fixed; top: 0; left: 0; width: 100%;
            z-index: 100; transition: all 0.3s ease;
        }

        header.scrolled {
            background: rgb(255, 1, 1);
            backdrop-filter: blur(20px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        .nav-container {
            display: flex; justify-content: space-between; align-items: center;
            height: 90px; padding: 0 1.5rem; max-width: 1400px; margin: 0 auto;
        }

        /* Logo */
        .logo-container {
            display: flex; align-items: center; gap: 0.8rem;
            cursor: pointer; text-decoration: none; transition: transform 0.3s;
        }
        .logo-container:hover { transform: scale(1.02); }
        
        .logo-symbol {
            width: 50px; height: 50px;
            background: linear-gradient(135deg, var(--primary-blue) 60%, var(--accent-orange) 60%);
            border-radius: 12px;
            display: flex; align-items: center; justify-content: center;
            color: white; font-size: 1.6rem; font-weight: 900;
            box-shadow: 0 5px 15px rgba(32, 13, 202, 0.74);
        }

        .logo-text {
            font-size: 1.5rem; font-weight: 900; color: var(--text-dark);
            line-height: 1; display: flex; flex-direction: column;
        }
        .logo-sub { font-size: 0.4rem; color: var(--accent-orange); text-transform: uppercase; letter-spacing: 3px; margin-top: 3px; font-weight: 800; }

        /* Nav Links */
        .nav-links { display: flex; gap: 2rem; align-items: center; }
        .nav-links a {
            font-weight: 600; color: var(--text-dark); text-decoration: none;
            font-size: 0.95rem; position: relative;
        }
        .nav-links a::after {
            content: ''; position: absolute; width: 0; height: 2px; bottom: -4px; left: 0;
            background-color: var(--accent-orange); transition: width 0.3s ease;
        }
        .nav-links a:hover::after { width: 100%; }
        .mobile-menu-btn { display: none; font-size: 1.8rem; color: var(--text-dark); cursor: pointer; }

        /* --- HERO SECTION --- */
        .hero {
            position: relative; height: 100vh; min-height: 600px;
            display: flex; align-items: center; justify-content: center;
            overflow: hidden; background: var(--primary-dark);
        }

        .hero-slider { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
        .slide {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover; background-position: center;
            opacity: 0; transform: scale(1.1);
            animation: swipeAnimation 18s infinite;
        }
        .slide:nth-child(1) { animation-delay: 0s; background-image: url('https://picsum.photos/seed/youth1/1920/1080'); }
        .slide:nth-child(2) { animation-delay: 6s; background-image: url('https://picsum.photos/seed/growth2/1920/1080'); }
        .slide:nth-child(3) { animation-delay: 12s; background-image: url('https://picsum.photos/seed/faith3/1920/1080'); }

        @keyframes swipeAnimation {
            0% { opacity: 0; transform: scale(1.1) translateX(-50px); } 
            5% { opacity: 1; transform: scale(1) translateX(0); } 
            30% { opacity: 1; transform: scale(1.05) translateX(0); } 
            33% { opacity: 0; transform: scale(1.1) translateX(50px); } 
            100% { opacity: 0; transform: scale(1.1) translateX(50px); } 
        }

        .hero-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, rgba(25, 0, 255, 0.85) 0%, rgba(0, 80, 157, 0.85) 100%);
            z-index: 2;
        }
        
        /* Floating Blobs */
        .blob {
            position: absolute; width: 400px; height: 400px; background: var(--accent-orange);
            opacity: 0.15; filter: blur(80px); border-radius: 50%; z-index: 2;
            animation: floatBlob 10s infinite ease-in-out;
        }
        .blob-1 { top: 10%; right: -5%; }
        .blob-2 { bottom: 10%; left: -5%; background: var(--primary-light); animation-delay: 2s; }
        @keyframes floatBlob { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(30px, -30px); } }

        .hero-content {
            position: relative; z-index: 3; text-align: center;
            max-width: 900px; padding: 0 1.5rem; color: white;
        }
        .hero h1 {
            font-size: clamp(2.5rem, 6vw, 5rem); margin-bottom: 1.5rem;
            color: white; text-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        /* --- DAILY ENCOURAGEMENT (Home Page) --- */
        #daily-encouragement {
            position: relative; z-index: 10; margin-top: -80px; /* Pull up into hero */
            padding-bottom: 3rem; pointer-events: none; /* Let clicks pass through empty space */
        }
        
        #daily-encouragement .container { pointer-events: all; }

        .daily-card {
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px);
            border-radius: 24px; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
            overflow: hidden; display: flex; flex-direction: column;
            max-width: 1000px; margin: 0 auto; border: 1px solid rgba(255,255,255,0.6);
            animation: fadeInUp 1s ease 0.5s backwards;
        }

        @media (min-width: 768px) { .daily-card { flex-direction: row; height: 420px; } }

        .daily-img {
            flex: 1; background-size: cover; background-position: center;
            min-height: 250px; transition: transform 0.6s ease;
        }
        .daily-card:hover .daily-img { transform: scale(1.05); }
        .daily-content {
            flex: 1; padding: 3rem; display: flex; flex-direction: column; justify-content: center;
        }
        .topic-badge {
            background: rgba(25, 0, 255, 0.1); color: var(--primary-blue);
            padding: 6px 16px; border-radius: 30px; font-size: 0.8rem; font-weight: 700;
            text-transform: uppercase; align-self: flex-start; margin-bottom: 1rem;
        }

        /* --- SECTIONS --- */
        .section-padding { padding: 6rem 0; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
        
        h2 { 
            font-size: 2.5rem; margin-bottom: 1.5rem; position: relative; 
            display: inline-block; 
        }
        h2::after {
            content: ''; display: block; width: 60px; height: 5px;
            background: linear-gradient(90deg, var(--primary-blue), var(--accent-orange));
            margin-top: 10px; border-radius: 4px;
        }

        .about-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 5rem; align-items: center; }
        .about-card {
            position: absolute; bottom: -40px; right: -40px;
            background: rgba(255, 255, 255, 0.95); padding: 2rem;
            border-radius: var(--radius-md); box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            max-width: 280px; border-left: 6px solid var(--accent-orange);
        }
        .vm-grid, .focus-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2.5rem; margin-top: 3rem;
        }
        .focus-card { padding: 2.5rem; border-top: 5px solid var(--primary-blue); }

        /* --- MODALS --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.6); backdrop-filter: blur(8px);
            z-index: 2000; display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 0.3s ease;
        }
        .modal-overlay.active { opacity: 1; pointer-events: all; }
        .modal-box {
            background: white; width: 90%; max-width: 500px;
            padding: 2.5rem; border-radius: var(--radius-md);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            position: relative; transform: translateY(20px); transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-height: 90vh; overflow-y: auto;
        }
        .modal-overlay.active .modal-box { transform: translateY(0); }
        .close-modal { position: absolute; top: 20px; right: 20px; font-size: 1.5rem; cursor: pointer; color: #94a3b8; transition: color 0.2s; }
        .close-modal:hover { color: var(--accent-orange); }

        /* Forms */
        .form-group { margin-bottom: 1.2rem; }
        label { display: block; margin-bottom: 0.4rem; font-weight: 700; color: var(--text-dark); font-size: 0.9rem; }
        input, select, textarea {
            width: 100%; padding: 12px; border: 2px solid #e2e8f0; border-radius: 8px;
            font-family: inherit; transition: all 0.3s;
        }
        input:focus, textarea:focus, select:focus { outline: none; border-color: var(--primary-blue); background: #f8fafc; }

        /* --- PORTALS --- */
        .portal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #f1f5f9; z-index: 1500; overflow-y: auto;
            transform: translateY(100%); transition: transform 0.4s ease-in-out;
        }
        .portal-overlay.active { transform: translateY(0); }
        
        .portal-header {
            background: white; color: var(--text-dark); padding: 1rem 2rem;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .dashboard-container {
            max-width: 1400px; margin: 2rem auto; padding: 0 1.5rem;
            display: grid; grid-template-columns: 320px 1fr; gap: 2.5rem;
            align-items: start;
        }

        /* Static Sidebar */
        aside {
            position: sticky; top: 100px; max-height: calc(100vh - 120px);
            overflow-y: auto;
        }

        .profile-card {
            background: white; padding: 2rem; border-radius: var(--radius-md);
            box-shadow: 0 4px 6px rgba(0,0,0,0.02); text-align: center;
        }
        .profile-img {
            width: 120px; height: 120px; border-radius: 50%; object-fit: cover;
            margin-bottom: 1rem; border: 4px solid var(--primary-blue);
        }
        .feed-card {
            background: white; border-radius: var(--radius-md); padding: 2rem;
            margin-bottom: 2rem; box-shadow: 0 4px 10px rgba(0,0,0,0.03);
            border: 1px solid #f1f5f9;
        }
        .feed-img { width: 100%; border-radius: 8px; margin-bottom: 1rem; max-height: 400px; object-fit: cover; }

        /* Admin CRUD & Preview */
        .admin-toolbar { background: #f1f1f1; padding: 5px; border-radius: 4px; margin-bottom: 5px; display: flex; gap: 5px; }
        .toolbar-btn { background: white; border: 1px solid #ccc; padding: 4px 8px; cursor: pointer; border-radius: 4px; }
        #editor { min-height: 150px; border: 1px solid #ccc; padding: 10px; border-radius: 8px; }
        
        .preview-box {
            background: white; border: 2px dashed var(--primary-blue);
            padding: 1rem; border-radius: var(--radius-md); margin-top: 2rem;
        }
        .post-list-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1.5rem; }
        .post-list-item {
            background: white; border: 1px solid #e2e8f0; border-radius: 12px;
            padding: 1rem; box-shadow: 0 2px 4px rgba(0,0,0,0.02); transition: transform 0.2s;
        }
        .post-list-item:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.08); }
        .post-list-img { width: 100%; height: 120px; object-fit: cover; border-radius: 8px; margin-bottom: 0.8rem; }

        /* --- NEW FOOTER --- */
        footer {
            background-color: var(--primary-dark); color: white; padding-top: 5rem;
        }
        .footer-content {
            max-width: 1400px; margin: 0 auto; padding: 0 1.5rem;
            display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 3rem;
        }
        .footer-col h4 {
            color: white; font-size: 1.2rem; margin-bottom: 1.5rem;
            position: relative; display: inline-block;
        }
        .footer-col h4::after {
            content: ''; display: block; width: 40px; height: 3px;
            background: var(--accent-orange); margin-top: 8px; border-radius: 2px;
        }
        .footer-col ul li { margin-bottom: 0.8rem; list-style: none; }
        .footer-col ul li a {
            color: #94a3b8; text-decoration: none; transition: 0.3s;
            font-size: 0.95rem; display: inline-block;
        }
        .footer-col ul li a:hover { color: var(--accent-orange); padding-left: 5px; }
        
        .footer-bottom {
            background: rgba(0, 0, 0, 0.2); padding: 2rem 0; margin-top: 4rem;
            text-align: center; font-size: 0.9rem; color: #64748b;
        }

        /* --- RESPONSIVE --- */
        @media (max-width: 992px) {
            .nav-links {
                position: fixed; top: 90px; left: 0; width: 100%; background: white;
                flex-direction: column; padding: 2rem; box-shadow: 0 10px 20px rgba(0,0,0,0.1);
                transform: translateY(-150%); transition: transform 0.4s ease; z-index: 99; align-items: center;
            }
            .nav-links.active { transform: translateY(0); }
            .mobile-menu-btn { display: block; }
            .dashboard-container { grid-template-columns: 1fr; }
            aside { position: relative; top: 0; max-height: none; overflow: visible; }
            .about-grid { grid-template-columns: 1fr; }
            .about-card { position: relative; bottom: auto; right: auto; margin: -30px 0 0 20px; }
            .daily-card { flex-direction: column; height: auto; }
        }
    </style>
</head>
<body>

    <!-- HEADER -->
    <header id="main-header" class="glass">
        <div class="nav-container">
            <a href="#" class="logo-container" onclick="app.closePortal()">
                <div class="logo-symbol">GG</div>
                <div class="logo-text">
                    GROWTH<span style="color:var(--accent-orange)">GRID</span>
                    <span class="logo-sub">Channel</span>
                </div>
            </a>
            
            <nav class="nav-links" id="main-nav-links">
                <a href="#" onclick="app.closePortal()">Home</a>
                <a href="#daily-encouragement" onclick="app.closePortal()">Daily</a>
                <a href="#about" onclick="app.closePortal()">About</a>
                <a href="#focus" onclick="app.closePortal()">Focus</a>
                <div id="public-nav-auth" style="display:flex; gap:1rem; margin-top:10px; margin-left:10px;"></div>
            </nav>
            <div class="mobile-menu-btn" id="menuBtn">â˜°</div>
        </div>
    </header>

    <main id="main-content">
        <!-- HERO -->
        <section class="hero">
            <div class="blob blob-1"></div>
            <div class="blob blob-2"></div>
            <div class="hero-slider">
                <div class="slide"></div>
                <div class="slide"></div>
                <div class="slide"></div>
            </div>
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <h1 class="reveal">Navigate Life with <span style="color: var(--accent-orange);">Clarity</span> & Purpose</h1>
                <p style="font-size: 1.25rem; color: #e2e8f0; margin-bottom: 2rem; max-width: 700px; margin-left: auto; margin-right: auto;" class="reveal">A transformational platform dedicated to guiding young people toward personal growth, emotional healing, and a life of faith.</p>
                <button class="btn btn-primary reveal" onclick="app.showModal('signup')">Start Your Journey</button>
            </div>
        </section>

        <!-- DAILY ENCOURAGEMENT (Fixed for Home Page) -->
        <section id="daily-encouragement">
            <div class="container">
                <div id="daily-post-container">
                    <!-- Content loads via JS -->
                </div>
            </div>
        </section>

        <!-- ABOUT -->
        <section id="about" class="section-padding">
            <div class="container">
                <div class="about-grid">
                    <div class="about-text reveal">
                        <h2>Who We Are</h2>
                        <p><strong>Growth Grid Channel</strong> is a transformational platform dedicated to guiding young people toward personal growth, emotional healing, and living a life of purpose.</p>
                        <p>We exist to help individuals reshape their mindset, thrive through limiting beliefs, and embrace life with positivity and faith.</p>
                    </div>
                    <div class="about-img-placeholder reveal" style="width:100%; height:450px; background:#e2e8f0; border-radius:24px; position:relative; overflow:hidden; background:url('https://picsum.photos/seed/teamwork/800/600') center/cover;">
                        <div class="about-card hover-lift">
                            <h4>No One Walks Alone</h4>
                            <p style="margin-bottom: 0; font-size: 0.9rem;">We believe growth is a journey.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- VISION -->
        <section id="vision-mission" class="section-padding">
            <div class="container">
                <div class="text-center reveal">
                    <h2>Our Foundation</h2>
                    <p style="color: var(--text-muted);">The pillars that support our mission.</p>
                </div>
                <div class="vm-grid reveal">
                    <div class="glass-card hover-lift" style="padding:2.5rem;"><h3>Our Vision</h3><p>To raise a generation of young people who are emotionally healthy, spiritually grounded, and confidently living purposeful lives.</p></div>
                    <div class="glass-card hover-lift" style="padding:2.5rem;"><h3>Our Mission</h3><p>To equip young people with tools they need to navigate life with clarity, courage, and faith.</p></div>
                </div>
            </div>
        </section>

        <!-- FOCUS -->
        <section id="focus" class="section-padding">
            <div class="container">
                <div class="text-center reveal">
                    <h2>Our Focus Areas</h2>
                </div>
                <div class="focus-grid reveal">
                    <div class="glass-card hover-lift focus-card"><h3>Mindset</h3><p>Confidence & Discipline.</p></div>
                    <div class="glass-card hover-lift focus-card"><h3>Faith</h3><p>Real-life application.</p></div>
                    <div class="glass-card hover-lift focus-card"><h3>Relationships</h3><p>Love & Communication.</p></div>
                    <div class="glass-card hover-lift focus-card"><h3>Mental</h3><p>Healing & Strength.</p></div>
                    <div class="glass-card hover-lift focus-card"><h3>Youth</h3><p>Direction & Identity.</p></div>
                </div>
            </div>
        </section>
    </main>

    <!-- NEW FOOTER -->
    <footer>
        <div class="footer-content">
            <div class="footer-col">
                <div class="logo-container" style="margin-bottom:1.5rem; cursor:default;">
                    <div class="logo-symbol" style="width:40px; height:40px; font-size:1.2rem; box-shadow:none; filter: brightness(200%);">GG</div>
                    <div class="logo-text" style="color:white; font-size:1.2rem;">
                        GROWTH<span style="color:var(--accent-orange)">GRID</span>
                        <span class="logo-sub" style="color:#cbd5e1;">Channel</span>
                    </div>
                </div>
                <p style="color:#94a3b8; font-size:0.9rem;">Empowering the next generation through faith, clarity, and purposeful living.</p>
            </div>
            
            <div class="footer-col">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#" onclick="app.closePortal()">Home</a></li>
                    <li><a href="#about" onclick="app.closePortal()">About Us</a></li>
                    <li><a href="#focus" onclick="app.closePortal()">Our Focus</a></li>
                    <li><a href="#" onclick="app.showModal('signup')">Join Us</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h4>Contact</h4>
                <ul>
                    <li><a href="#">Email: info@growthgrid.co.ke</a></li>
                    <li><a href="#">WhatsApp: +254740 924379</a></li>
                    <li><a href="#">Nairobi, Kenya</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h4>Connect</h4>
                <ul>
                    <li><a href="#">Instagram</a></li>
                    <li><a href="#">Facebook</a></li>
                    <li><a href="#">Twitter</a></li>
                    <li><a href="#">YouTube</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <p>&copy; 2025 Growth Grid Channel. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- MODALS -->
    <div id="modal-login" class="modal-overlay">
        <div class="modal-box">
            <span class="close-modal" onclick="app.hideModal()">&times;</span>
            <h2 class="text-center">Welcome Back</h2>
            <form onsubmit="app.handleLogin(event)">
                <div class="form-group"><label>Email / Username</label><input type="text" id="login-email" required></div>
                <div class="form-group"><label>Password</label><input type="password" id="login-password" required></div>
                <button type="submit" class="btn btn-primary" style="width:100%;">Login</button>
            </form>
            <p class="text-center" style="margin-top:1.5rem; font-size:0.9rem;">New? <a href="#" style="color:var(--primary-blue); font-weight:bold;" onclick="app.showModal('signup')">Sign Up</a></p>
        </div>
    </div>

    <div id="modal-signup" class="modal-overlay">
        <div class="modal-box" style="max-width: 600px;">
            <span class="close-modal" onclick="app.hideModal()">&times;</span>
            <h2 class="text-center">Join Growth Grid</h2>
            <form onsubmit="app.handleSignup(event)">
                <div class="form-group"><label>Full Name</label><input type="text" id="signup-name" required></div>
                <div class="form-group"><label>Email</label><input type="email" id="signup-email" required></div>
                <div class="form-group"><label>WhatsApp</label><input type="tel" id="signup-phone" required></div>
                <div class="form-group"><label>Password</label><input type="password" id="signup-password" required></div>
                <div class="form-group"><label>Bio</label><textarea id="signup-bio" rows="3"></textarea></div>
                <div class="form-group">
                    <label>Passport Photo</label>
                    <div class="glass-card" style="padding:1rem; text-align:center; cursor:pointer; border:1px dashed var(--primary-blue);" onclick="document.getElementById('signup-photo').click()">
                        <p style="margin:0;">Click to upload</p>
                        <input type="file" id="signup-photo" accept="image/*" hidden onchange="app.previewImage(this, 'signup-preview')">
                        <img id="signup-preview" style="max-width:100px; max-height:100px; border-radius:50%; object-fit:cover; display:none; margin:10px auto;">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" style="width:100%;">Create Account</button>
            </form>
            <p class="text-center" style="margin-top:1.5rem; font-size:0.9rem;">Have account? <a href="#" style="color:var(--primary-blue); font-weight:bold;" onclick="app.showModal('login')">Login</a></p>
        </div>
    </div>

    <!-- PORTALS -->
    <div id="portal-overlay" class="portal-overlay">
        <div class="portal-header">
            <div style="font-weight:800; font-size:1.2rem; display:flex; align-items:center; gap:0.5rem;">
                <div class="logo-symbol" style="width:30px; height:30px; font-size:1rem;">GG</div>
                GROWTH<span style="color:var(--accent-orange)">GRID</span> <span style="font-size:0.8rem; opacity:0.8; font-weight:400; margin-left:10px; background:var(--primary-blue); color:white; padding:2px 8px; border-radius:4px;" id="portal-badge">Portal</span>
            </div>
            <button class="btn btn-secondary" style="padding:0.5rem 1.2rem; font-size:0.8rem;" onclick="app.logout()">Exit Portal</button>
        </div>

        <div id="member-dashboard" class="dashboard-container" style="display:none;">
            <aside>
                <div class="profile-card hover-lift">
                    <img id="dash-profile-img" src="" alt="Profile" class="profile-img">
                    <h3 id="dash-name">Member Name</h3>
                    <p id="dash-bio" style="font-size:0.9rem; color:#64748b; margin-bottom:1rem;">User bio...</p>
                    <hr style="margin:1rem 0; border:0; border-top:1px solid #eee;">
                    <p style="text-align:left;"><strong>Email:</strong> <br><span id="dash-email" style="font-size:0.9rem; color:#64748b;"></span></p>
                    <p style="text-align:left;"><strong>WhatsApp:</strong> <br><span id="dash-phone" style="font-size:0.9rem; color:#64748b;"></span></p>
                </div>
            </aside>
            <section>
                <h3>Your Encouragement Feed</h3>
                <div id="member-feed" style="margin-top:2rem;"></div>
            </section>
        </div>

        <div id="admin-dashboard" class="dashboard-container" style="display:none;">
            <aside>
                <div class="glass-card hover-lift" style="padding:1.5rem; margin-bottom:2rem;">
                    <h4>Create Encouragement</h4>
                    <form onsubmit="app.createPost(event)">
                        <div class="form-group" style="margin-bottom:0.5rem;"><label>Topic</label><select id="admin-topic"><option value="Mindset">Mindset</option><option value="Faith">Faith</option><option value="Relationships">Relationships</option><option value="Mental Health">Mental</option><option value="Youth">Youth</option></select></div>
                        <div class="form-group" style="margin-bottom:0.5rem;"><label>Title</label><input type="text" id="admin-title" required oninput="app.updatePreview()"></div>
                        <div class="form-group" style="margin-bottom:0.5rem;"><label>Image</label><input type="file" id="admin-image" accept="image/*" required onchange="app.updatePreviewImage()"></div>
                        <div class="form-group" style="margin-bottom:0.5rem;"><label>Caption</label>
                            <div class="admin-toolbar"><button type="button" class="toolbar-btn" onclick="document.execCommand('bold',false,null)">B</button><button type="button" class="toolbar-btn" onclick="document.execCommand('italic',false,null)">I</button></div>
                            <div id="editor" contenteditable="true" oninput="app.updatePreview()"></div>
                        </div>
                        <div class="form-group" style="margin-bottom:1rem;">
                            <label style="display:flex; align-items:center; gap:10px; cursor:pointer;">
                                <input type="checkbox" id="admin-is-daily" style="width:auto;"> Set as Daily Encouragement
                            </label>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width:100%;">Post</button>
                    </form>
                </div>
                
                <!-- Live Preview -->
                <div class="preview-box">
                    <span style="font-size:0.8rem; text-transform:uppercase; letter-spacing:1px; color:var(--accent-orange); font-weight:800; margin-bottom:1rem; display:block;">Live Preview</span>
                    <div class="feed-card" style="margin:0; padding:1rem; box-shadow:none; border:1px solid #f1f5f9;">
                        <span id="preview-topic" style="color:var(--primary-blue); font-weight:bold; font-size:0.8rem;">Mindset</span>
                        <h4 id="preview-title" style="margin:0.5rem 0; font-size:1.2rem;">Post Title</h4>
                        <img id="preview-img" src="https://picsum.photos/seed/preview/400/300" style="width:100%; height:auto; border-radius:4px; display:none;">
                        <div id="preview-text" style="font-size:0.9rem; color:#64748b; margin-top:0.5rem;">...</div>
                    </div>
                </div>
            </aside>
            <section>
                <h3>Manage Posts</h3>
                <div id="admin-feed" class="post-list-grid" style="margin-top:2rem;"></div>
            </section>
        </div>
    </div>

    <!-- JAVASCRIPT -->
    <script>
        const app = {
            data: {
                currentUser: null,
                users: JSON.parse(localStorage.getItem('users')) || [],
                posts: JSON.parse(localStorage.getItem('posts')) || []
            },

            init: function() {
                const storedUser = localStorage.getItem('currentUser');
                if (storedUser) {
                    this.data.currentUser = JSON.parse(storedUser);
                    this.updatePublicNav();
                    if(this.data.currentUser.isAdmin) this.openPortal('admin');
                    else this.openPortal('member');
                } else {
                    this.updatePublicNav();
                }
                
                this.loadDailyEncouragement();
                this.initScrollAnimation(); // Initial Scroll Check
                
                document.getElementById('menuBtn').addEventListener('click', () => {
                    document.getElementById('main-nav-links').classList.toggle('active');
                });
                
                window.addEventListener('scroll', () => {
                    const header = document.getElementById('main-header');
                    if(window.scrollY > 50) header.classList.add('scrolled');
                    else header.classList.remove('scrolled');
                });
            },

            // --- ANIMATION OBSERVER ---
            initScrollAnimation: function() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if(entry.isIntersecting) entry.target.classList.add('active');
                    });
                }, { threshold: 0.1 });
                document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
            },

            // --- MODALS & PORTALS ---
            showModal: function(type) {
                document.querySelectorAll('.modal-overlay').forEach(el => el.classList.remove('active'));
                const modal = document.getElementById(`modal-${type}`);
                if(modal) modal.classList.add('active');
            },
            hideModal: function() { document.querySelectorAll('.modal-overlay').forEach(el => el.classList.remove('active')); },

            openPortal: function(type) {
                const overlay = document.getElementById('portal-overlay');
                const memberView = document.getElementById('member-dashboard');
                const adminView = document.getElementById('admin-dashboard');
                overlay.classList.add('active');
                if(type === 'member') {
                    memberView.style.display = 'grid'; adminView.style.display = 'none';
                    document.getElementById('portal-badge').textContent = 'Member Portal';
                    document.getElementById('portal-badge').style.background = 'var(--primary-blue)';
                    this.renderMemberDashboard();
                } else {
                    memberView.style.display = 'none'; adminView.style.display = 'grid';
                    document.getElementById('portal-badge').textContent = 'Admin Portal';
                    document.getElementById('portal-badge').style.background = 'var(--accent-orange)';
                    this.renderAdminDashboard();
                }
                this.hideModal(); window.scrollTo(0,0);
            },
            closePortal: function() { document.getElementById('portal-overlay').classList.remove('active'); },

            // --- PUBLIC NAV ---
            updatePublicNav: function() {
                const user = this.data.currentUser;
                const container = document.getElementById('public-nav-auth');
                if (!user) {
                    container.innerHTML = `
                        <a href="#" onclick="app.showModal('login')" style="color:var(--text-dark); font-weight:700;">Login</a>
                        <button class="btn btn-primary" onclick="app.showModal('signup')" style="padding:0.5rem 1.2rem;">Join Us</button>
                    `;
                } else {
                    container.innerHTML = `<button class="btn btn-secondary" onclick="app.openPortal('${user.isAdmin ? 'admin' : 'member'}')" style="padding:0.5rem 1.2rem; border:none; background:rgba(25,0,255,0.1); color:var(--primary-blue); font-weight:700;">Enter Portal</button>`;
                }
            },

            // --- AUTH ---
            handleSignup: function(e) {
                e.preventDefault();
                const name = document.getElementById('signup-name').value;
                const email = document.getElementById('signup-email').value;
                const phone = document.getElementById('signup-phone').value;
                const password = document.getElementById('signup-password').value;
                const bio = document.getElementById('signup-bio').value;
                const photoInput = document.getElementById('signup-photo');
                if (this.data.users.find(u => u.email === email)) { alert('Email exists!'); return; }
                const reader = new FileReader();
                reader.onload = (event) => {
                    const newUser = {
                        id: Date.now(), name, email, phone, password, bio,
                        photo: photoInput.files[0] ? event.target.result : 'https://picsum.photos/150',
                        isAdmin: false, joined: new Date().toISOString()
                    };
                    this.data.users.push(newUser); this.saveUsers();
                    this.data.currentUser = newUser;
                    localStorage.setItem('currentUser', JSON.stringify(newUser));
                    this.updatePublicNav(); this.openPortal('member');
                };
                if(photoInput.files[0]) reader.readAsDataURL(photoInput.files[0]);
                else reader.readAsDataURL(new Blob([""], { type: 'image/png' })); 
            },

            handleLogin: function(e) {
                e.preventDefault();
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                if (email === 'admin' && password === 'admin123') {
                    this.data.currentUser = { name: 'Administrator', email: 'admin', isAdmin: true };
                    localStorage.setItem('currentUser', JSON.stringify(this.data.currentUser));
                    this.updatePublicNav(); this.openPortal('admin'); return;
                }
                const user = this.data.users.find(u => u.email === email && u.password === password);
                if (user) {
                    this.data.currentUser = user; localStorage.setItem('currentUser', JSON.stringify(user));
                    this.updatePublicNav(); this.openPortal('member');
                } else { alert('Invalid. Try admin/admin123'); }
            },

            logout: function() {
                this.data.currentUser = null; localStorage.removeItem('currentUser');
                this.updatePublicNav(); this.closePortal();
            },

            saveUsers: function() { localStorage.setItem('users', JSON.stringify(this.data.users)); },
            previewImage: function(input, imgId) {
                if (input.files && input.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) { const img = document.getElementById(imgId); img.src = e.target.result; img.style.display = 'block'; }
                    reader.readAsDataURL(input.files[0]);
                }
            },

            // --- POSTS ---
            updatePreview: function() {
                document.getElementById('preview-title').innerText = document.getElementById('admin-title').value || 'Post Title';
                document.getElementById('preview-text').innerHTML = document.getElementById('editor').innerHTML || '...';
                document.getElementById('preview-topic').innerText = document.getElementById('admin-topic').value;
            },
            updatePreviewImage: function() {
                const fileInput = document.getElementById('admin-image');
                const img = document.getElementById('preview-img');
                if(fileInput.files && fileInput.files[0]) {
                    const reader = new FileReader();
                    reader.onload = (e) => { img.src = e.target.result; img.style.display = 'block'; };
                    reader.readAsDataURL(fileInput.files[0]);
                }
            },

            createPost: function(e) {
                e.preventDefault();
                const topic = document.getElementById('admin-topic').value;
                const title = document.getElementById('admin-title').value;
                const content = document.getElementById('editor').innerHTML;
                const isDaily = document.getElementById('admin-is-daily').checked;
                const fileInput = document.getElementById('admin-image');
                const reader = new FileReader();
                reader.onload = (evt) => {
                    const newPost = { id: Date.now(), topic, title, content, image: evt.target.result, isDaily, date: new Date().toLocaleDateString(), author: 'Admin' };
                    if (isDaily) this.data.posts.forEach(p => p.isDaily = false);
                    this.data.posts.unshift(newPost); this.savePosts();
                    e.target.reset(); document.getElementById('editor').innerHTML = '';
                    this.updatePreview(); document.getElementById('preview-img').style.display = 'none';
                    alert('Posted!');
                    this.loadDailyEncouragement(); this.renderAdminDashboard();
                };
                reader.readAsDataURL(fileInput.files[0]);
            },

            savePosts: function() {
                try { localStorage.setItem('posts', JSON.stringify(this.data.posts)); } 
                catch (e) { alert("Storage full!"); }
            },

            deletePost: function(id) {
                if(confirm('Delete?')) {
                    this.data.posts = this.data.posts.filter(p => p.id !== id);
                    this.savePosts(); this.loadDailyEncouragement(); this.renderAdminDashboard();
                }
            },

            loadDailyEncouragement: function() {
                const container = document.getElementById('daily-post-container');
                const dailyPost = this.data.posts.find(p => p.isDaily);

                if (!dailyPost) {
                    container.innerHTML = `
                        <div class="daily-card reveal">
                            <div class="daily-content" style="width:100%; text-align:center; padding:3rem;">
                                <h3>No Encouragement Today</h3>
                                <p>Check back later for today's boost.</p>
                            </div>
                        </div>`;
                } else {
                    container.innerHTML = `
                        <div class="daily-card reveal active">
                            <div class="daily-img" style="background-image: url('${dailyPost.image}')"></div>
                            <div class="daily-content">
                                <span class="topic-badge">${dailyPost.topic}</span>
                                <h3 style="font-size:1.8rem;">${dailyPost.title}</h3>
                                <p style="font-size:1.1rem; color:#555; line-height:1.7;">${dailyPost.content}</p>
                            </div>
                        </div>`;
                }
                // Re-observe animations for new content
                this.initScrollAnimation();
            },

            renderMemberDashboard: function() {
                const user = this.data.currentUser;
                document.getElementById('dash-name').textContent = user.name;
                document.getElementById('dash-email').textContent = user.email;
                document.getElementById('dash-phone').textContent = user.phone;
                document.getElementById('dash-bio').textContent = user.bio;
                document.getElementById('dash-profile-img').src = user.photo;

                const feed = document.getElementById('member-feed');
                feed.innerHTML = this.data.posts.length ? this.data.posts.map(post => `
                    <div class="feed-card hover-lift">
                        <div style="display:flex; justify-content:space-between; margin-bottom:0.5rem;">
                            <span style="color:var(--primary-blue); font-weight:bold;">${post.topic}</span>
                            <span style="font-size:0.8rem; color:#999;">${post.date}</span>
                        </div>
                        <h3>${post.title}</h3>
                        <img src="${post.image}" class="feed-img">
                        <div>${post.content}</div>
                    </div>
                `).join('') : '<p>No posts yet.</p>';
            },

            renderAdminDashboard: function() {
                const feed = document.getElementById('admin-feed');
                feed.innerHTML = this.data.posts.length ? this.data.posts.map(post => `
                    <div class="post-list-item hover-lift">
                        <img src="${post.image}" class="post-list-img">
                        <div style="font-size:0.8rem; color:var(--primary-blue); font-weight:bold; margin-bottom:0.2rem;">${post.topic}</div>
                        <h4 style="font-size:1rem; margin-bottom:0.5rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">${post.title}</h4>
                        ${post.isDaily ? '<span style="background:var(--accent-orange); color:white; padding:2px 6px; border-radius:4px; font-size:0.7rem;">Daily</span>' : ''}
                        <div style="margin-top:1rem; display:flex; gap:5px;">
                            <button class="btn btn-secondary" style="padding:0.2rem 0.5rem; font-size:0.7rem;" onclick="app.deletePost(${post.id})">Del</button>
                            <button class="btn btn-primary" style="padding:0.2rem 0.5rem; font-size:0.7rem;" onclick="app.setAsDaily(${post.id})">Set Daily</button>
                        </div>
                    </div>
                `).join('') : '<p>No posts yet.</p>';
            },

            setAsDaily: function(id) {
                this.data.posts.forEach(p => p.isDaily = false);
                const post = this.data.posts.find(p => p.id === id);
                if(post) post.isDaily = true;
                this.savePosts();
                this.loadDailyEncouragement();
                this.renderAdminDashboard();
            }
        };

        window.addEventListener('DOMContentLoaded', () => app.init());
    </script>
</body>
</html>
